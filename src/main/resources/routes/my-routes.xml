<?xml version="1.0" encoding="UTF-8"?>
<routes xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://camel.apache.org/schema/spring"
        xsi:schemaLocation="
            http://camel.apache.org/schema/spring
            https://camel.apache.org/schema/spring/camel-spring.xsd">

    <route id="xml-route">
        <from uri="imaps:{{mail.imap.host}}:{{mail.imap.port}}?password={{mail.password}}&amp;username={{mail.user}}&amp;searchTerm.subject={{mail.searchTerm.subject}}&amp;searchTerm.from={{mail.searchTerm.from}}"/>
        <setHeader name="To">
            <constant>{{mail.to}}</constant>
        </setHeader>
        <setHeader name="From">
            <constant>{{mail.from}}</constant>
        </setHeader>
        <setHeader name="Cc">
            <constant>{{mail.cc}}</constant>
        </setHeader>
        <setHeader name="Subject">
            <simple>{{mail.subject.prefix}}${headers.Subject}{{mail.subject.suffix}}</simple>
        </setHeader>
        <to uri="smtps:{{mail.smtp.host}}:{{mail.smtp.port}}?password={{mail.password}}&amp;username={{mail.user}}"/>
    </route>

</routes>